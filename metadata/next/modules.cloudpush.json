{"name":"Modules.CloudPush","summary":"<p>Provides support for Android push notifications.</p>\n","extends":"Titanium.Module","platforms":[{"since":"2.0.0","name":"android"}],"type":"module","editUrl":"https://github.com/appcelerator/titanium_mobile/edit/master/apidoc/Modules/CloudPush/CloudPush.yml","events":[{"name":"trayClickLaunchedApp","summary":"<p>Fired when a tray notification is shown and the application is not running.</p>\n","description":"<p>Touching it launches the app, and fires this event.</p>\n<p>This is only applicable if you have set <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> to true.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"properties":[{"name":"payload","summary":"<p>A JSON string of your data payload. Use JSON.parse to turn this into an object you can use.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"trayClickFocusedApp","summary":"<p>Fired when a tray notification is shown and the application is already running.</p>\n","description":"<p>Touching it focuses the app, and fires this event.</p>\n<p>This is only applicable if you have set <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> to true.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"properties":[{"name":"payload","summary":"<p>A JSON string of your data payload. Use JSON.parse to turn this into an object you can use.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]},{"name":"deviceTokenExpired","summary":"<p>Fired when last retrieved token has become invalid.</p>\n","description":"<p>Fired when the last retrieved device token has expired and has become invalid, meaning the token\ncan no longer be used to send push notifications. You'll need to call\n<a href=\"/titanium-docs/api/modules/cloudpush.html#retrievedevicetoken\">retrieveDeviceToken</a> again to acquire a new token.</p>\n<p>This typically occurs when:</p>\n<ul>\n<li>The Firebase &quot;Instance ID&quot; has been deleted.</li>\n<li>The app is restored from backup on a different device.</li>\n<li>The app has been uninstalled and re-installed.</li>\n<li>The end-user clears the app's data.</li>\n</ul>\n","platforms":[{"since":"9.1.0","name":"android"}]},{"name":"callback","summary":"<p>Fired whenever a push notification is received.</p>\n","description":"<p>If your application is not running when a push is received, the push will be saved in a queue until the next\ntime you add an event listener for this.</p>\n<p>This will only be fired once per push notification.</p>\n<p>This event will be fired at different times depending on your settings and the application's present state\n(foreground, background, or not running at all). When <a href=\"/titanium-docs/api/modules/cloudpush.html#focusapponpush\">focusAppOnPush</a> is true, this\nwill fire as soon as you receive a push. When <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> is true, this\nwill fire as soon as the user touches the tray notification to focus your application. Or, if\n<a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotificationswhenfocused\">showTrayNotificationsWhenFocused</a> is false, and your application is\nin the foreground, it will be called right away. If both <a href=\"/titanium-docs/api/modules/cloudpush.html#focusapponpush\">focusAppOnPush</a>\nand <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> are false, this will fire the next time your\napplication is launched and you add an event listener for it.</p>\n<p>You can use the <a href=\"/titanium-docs/api/modules/cloudpush.html#trayclicklaunchedapp\">trayClickLaunchedApp</a> and\n<a href=\"/titanium-docs/api/modules/cloudpush.html#trayclickfocusedapp\">trayClickFocusedApp</a> events to distinguish between the various ways\na push notification can return a user to your application.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"properties":[{"name":"payload","summary":"<p>A JSON string of your data payload. Use JSON.parse to turn this into an object you can use.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"}]}],"methods":[{"name":"clearStatus","summary":"<p>Clears the CloudPush module's stored status, including the push type, device token, GCM sender ID, etc.</p>\n","description":"<p>This method is useful to transfer the push type from MQTT to GCM, or changing the GCM sender ID when needed.\nAfter calling this method, the CloudPush module is reinitialized. Use <code>retrieveDeviceToken</code> to\nget the device token again.</p>\n","platforms":[{"since":"3.1.2","name":"android"}],"returns":{"type":"void"}},{"name":"retrieveDeviceToken","summary":"<p>Asynchronously retrieves the application specific device token.</p>\n","description":"<p>This token is used in calls to Appcelerator Cloud Services to subscribe or unsubscribe to push notification\nchannels. This token is unique to each application and device.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"parameters":[{"name":"config","summary":"<p>Dictionary specifying token retrieval related options.</p>\n","type":"CloudPushNotificationConfig","optional":false}],"returns":{"type":"void"}}],"properties":[{"name":"enabled","deprecated":{"notes":"<p>This property was only required to enable push notifications for the legacy MQTT\nprotocol.</p>\n","since":"3.2.0"},"summary":"<p>Whether or not this device will receive push notifications.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":false},{"name":"focusAppOnPush","summary":"<p>Whether or not your application is brought to the foreground whenever a new push is received.</p>\n","description":"<p>Note that this behavior is rather disruptive to users, and is strongly discouraged.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":false},{"name":"showAppOnTrayClick","summary":"<p>Whether or not clicking the tray notification will bring your application to the foreground.</p>\n","description":"<p>This is only applicable if you have set <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> to true.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":true},{"name":"showTrayNotification","summary":"<p>Whether or not to show a tray notification when a new push is received.</p>\n","description":"<p>If your payload is only a string, it will be used as the contentText and tickerText, and your application's name\nwill be used as the contentTitle with a system icon.</p>\n<p>Note that in your payload, you can customize this tray notification using any of the properties of a\n<a href=\"/titanium-docs/api/titanium/android/notification.html\">Titanium.Android.Notification</a>, except for contentIntent and deleteIntent (those are automatically set).</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":true},{"name":"showTrayNotificationsWhenFocused","summary":"<p>Whether or not to show tray notifications when your application is in the foreground.</p>\n","description":"<p>Instead of showing a notification, the <a href=\"/titanium-docs/api/modules/cloudpush.html#callback\">callback</a> event will be immediately fired\ninstead.</p>\n<p>This is only applicable if you have set <a href=\"/titanium-docs/api/modules/cloudpush.html#showtraynotification\">showTrayNotification</a> to true.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":false},{"name":"singleCallback","summary":"<p>Set to true to trigger a single callback for the selected push notification when multiple push notifications are displayed in the tray.</p>\n","description":"<p>In previous versions of the module, clicking on one of the application's push notifications triggered the callbacks for all of the application's push notifications.\nThe new module retains the same behavior by default.</p>\n<p>Set this property to true to receive a single callback for the push notification selected by the user, regardless of how many push notifications are displayed in the tray.</p>\n","platforms":[{"since":"2.0.0","name":"android"}],"type":"Boolean","default":false}],"constants":[{"name":"SERVICE_DISABLED","summary":"<p>Code returned from <a href=\"/titanium-docs/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a>. Google Play services has been disabled on this device.</p>\n","platforms":[{"since":"3.4.1","name":"android"}],"type":"Number","permission":"read-only"},{"name":"SERVICE_INVALID","summary":"<p>Code returned from <a href=\"/titanium-docs/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a>. The version of Google Play services installed on this device is not authentic.</p>\n","platforms":[{"since":"3.4.1","name":"android"}],"type":"Number","permission":"read-only"},{"name":"SERVICE_MISSING","summary":"<p>Code returned from <a href=\"/titanium-docs/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a>. Google Play services is not installed on the device.</p>\n","platforms":[{"since":"3.4.1","name":"android"}],"type":"Number","permission":"read-only"},{"name":"SERVICE_VERSION_UPDATE_REQUIRED","summary":"<p>Code returned from <a href=\"/titanium-docs/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a>. Google Play services is out of date.</p>\n","platforms":[{"since":"3.4.1","name":"android"}],"type":"Number","permission":"read-only"},{"name":"SUCCESS","summary":"<p>Code returned from <a href=\"/titanium-docs/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a>. Google Play services is available, and the connection is successful.</p>\n","platforms":[{"since":"3.4.1","name":"android"}],"type":"Number","permission":"read-only"}]}
