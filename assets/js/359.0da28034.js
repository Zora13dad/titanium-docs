(window.webpackJsonp=window.webpackJsonp||[]).push([[359],{642:function(t,e,a){"use strict";a.r(e);var s=a(4),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"titanium-filesystem-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#titanium-filesystem-file","aria-hidden":"true"}},[t._v("#")]),t._v(" Titanium.Filesystem.File")]),t._v(" "),a("TypeHeader"),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("Use the "),a("type-link",{attrs:{type:"Titanium.Filesystem.getFile"}},[t._v("Titanium.Filesystem.getFile")]),t._v(" method to get a handle to a "),a("code",[t._v("File")]),t._v(" object,\nwhich represents a given path.  There does not need to be an existing file or directory\ndoes not need to exist before "),a("code",[t._v("getFile")]),t._v(" is called. If the file doesn't exist, and\nthe file path identifies a file in a writable directory, writing to the file\ncreates the file implicitly.")],1),t._v(" "),a("p",[t._v("See "),a("type-link",{attrs:{type:"Titanium.Filesystem"}},[t._v("Titanium.Filesystem")]),t._v(" for constants identifying commonly-used device directories.")],1),t._v(" "),a("p",[t._v("Use the "),a("type-link",{attrs:{type:"Titanium.Filesystem.File.exists"}},[t._v("exists")]),t._v(" method to test whether the file exists.")],1),t._v(" "),a("p",[t._v("A file object can point to an ordinary file, a directory or a symbolic link.\nUse "),a("type-link",{attrs:{type:"Titanium.Filesystem.File.createDirectory"}},[t._v("createDirectory")]),t._v(" to create a directory.\nUse the "),a("type-link",{attrs:{type:"Titanium.Filesystem.File.getDirectoryListing"}},[t._v("getDirectoryListing")]),t._v(" method to\nretrieve a list of the directory's contents.")],1),t._v(" "),a("p",[t._v("The "),a("code",[t._v("File")]),t._v(" object doesn't provide methods for random access into the file.\nThe "),a("code",[t._v("read")]),t._v(" method reads the file's entire contents into a "),a("code",[t._v("Blob")]),t._v(" object.\nThe "),a("code",[t._v("write")]),t._v(" method can either overwrite the entire file or append to an\nexisting file.")]),t._v(" "),a("p",[t._v("For random access to a file, such as accessing a small portion of a larger file,\nyou can open a file as a "),a("type-link",{attrs:{type:"Titanium.Filesystem.FileStream"}},[t._v("FileStream")]),t._v(" object. Use the\n"),a("type-link",{attrs:{type:"Titanium.Filesystem.File.open"}},[t._v("open")]),t._v(" method to get a "),a("code",[t._v("FileStream")]),t._v(" for an\nexisting "),a("code",[t._v("File")]),t._v(" object, or use the "),a("type-link",{attrs:{type:"Titanium.Filesystem.openStream"}},[t._v("Titanium.Filesystem.openStream")]),t._v(" method\nto get a "),a("code",[t._v("FileStream")]),t._v(" directly without calling "),a("code",[t._v("getFile")]),t._v(" first.")],1),t._v(" "),a("p",[t._v("The "),a("type-link",{attrs:{type:"Titanium.Filesystem"}},[t._v("Titanium.Filesystem")]),t._v(" module defines a number of properties and methods related to\nfilesystem access, including properties that specify paths for application-specific\ndirectories, and methods for creating temporary files and directories.")],1),t._v(" "),a("p",[t._v("On Android, files may be stored on external storage (that is, removable media such as\nSD Cards).")]),t._v(" "),a("p",[t._v("Note that once created with "),a("code",[t._v("getFile")]),t._v(", the path associated with a file object is\nimmutable. If you move the underlying file using "),a("type-link",{attrs:{type:"Titanium.Filesystem.File.move"}},[t._v("move")]),t._v("\nor "),a("type-link",{attrs:{type:"Titanium.Filesystem.File.rename"}},[t._v("rename")]),t._v(", you can no longer access it with the\noriginal "),a("code",[t._v("File")]),t._v(" object. You must use "),a("code",[t._v("getFile")]),t._v(" to get a handle to the new path.")],1),t._v(" "),a("h3",{attrs:{id:"resource-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-files","aria-hidden":"true"}},[t._v("#")]),t._v(" Resource Files")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("Resources")]),t._v(" directory and all the files in it are read-only. On Android, resource\nfiles are stored in the resource bundle and do not have all of the properties of\nnormal files. In particular, they do not have creation or modification timestamps.")]),t._v(" "),a("h2",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),a("h3",{attrs:{id:"reading-a-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reading-a-file","aria-hidden":"true"}},[t._v("#")]),t._v(" Reading a File")]),t._v(" "),a("p",[t._v("Data files shipped with the application are stored in the resources directory.")]),t._v(" "),a("p",[t._v("This example reads string data from a text file.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resourcesDirectory is actually the default location, so the first")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// argument could be omitted here.")]),t._v("\nfile "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Filesystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Filesystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourcesDirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"textfile.txt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" blob "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" readText "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" blob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dispose of file handle & blob.")]),t._v("\nfile "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nblob "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"creating-a-subdirectory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-subdirectory","aria-hidden":"true"}},[t._v("#")]),t._v(" Creating a Subdirectory")]),t._v(" "),a("p",[t._v("Files that the application writes to need to be stored outside of the\nresources directory, since that directory is read-only.")]),t._v(" "),a("p",[t._v("This example creates a subdirectory to store downloaded images.\nThe example assumes that two variables are defined elsewhere in the code:\nmyImageID, a string containing some kind of ID for the downloaded image,\nand myImageData, a "),a("code",[t._v("Blob")]),t._v(" containing JPEG image data.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" imageDir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Filesystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Filesystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("applicationDataDirectory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'downloaded_images'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" imageDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    imageDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .resolve() provides the resolved native path for the directory.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" imageFile  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Filesystem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imageDir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" myImageID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.jpg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ImageFile path is: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" imageFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imageFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myImageData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// handle write error")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dispose of file handles")]),t._v("\nimageFile "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimageDir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ApiDocs")],1)},[],!1,null,null,null);e.default=n.exports}}]);